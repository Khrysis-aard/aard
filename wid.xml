<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- Saved on Sunday, January 09, 2022, 9:45 AM -->
<!-- MuClient version 5.07-pre -->

<!-- Plugin "wid" generated by Plugin Wizard -->

<muclient>
<plugin
   name="wid"
   author="Khrysis"
   id="16537fffd375971a606cc8c0"
   language="Lua"
   purpose="gets id number of primary and second weapon then saves to variables primaryweapon and secondweapon"
   save_state="y"
   date_written="2022-01-09 09:40:16"
   requires="5.07"
   version="1.0"
   >
<description trim="y">
<![CDATA[
=========================================================================================================
type wid help : to show this help file

type won : for alias to equip weapons

type woff : for alias to remove weapons

type wid : to show the current id numbers of equipped weapons

type wid off : to show eqdata again if you need to (upon equipping new weapons goes back to normal)

If this is the first time installed you need to type eqdata to update the variables for current weapons
(automatically done after first time)
=========================================================================================================
]]>
</description>

</plugin>


<!--  Triggers  -->

<triggers>
  <trigger
   enabled="y"
   match="^You wield (.*?)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SendNoEcho ("eqdata")
  EnableTriggerGroup("eqdata", true)</send>
  </trigger>
  <trigger
   enabled="y"
   match="^(\d+)\,(.*)\,(.+)\,(\d+)\,(\d+)\,(\d+),(-?\d+),(-?\d+)$"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
   group="eqdata"
  >
  <send> if %7 == 25 then
SetVariable("secondweapon","'%1'")
 elseif %7 == 24 then
SetVariable("primaryweapon","'%1'")
  end</send>
  </trigger>
  <trigger
   enabled="y"
   match="^(\{\/eqdata\})$|^(\{eqdata\})$|^(\{eqdata \d*\})$"
   omit_from_output="y"
   regexp="y"
   sequence="100"
   send_to="12"
   group="eqdata"
  >
  </trigger>
</triggers>

<!--  Aliases  -->

<aliases>
  <alias
   script="OnHelp"
   match="wid help"
   enabled="y"
  >
  </alias>
  <alias
   match="woff"
   enabled="y"
   expand_variables="y"
   sequence="100"
  >
  <send>remove wielded
remove second</send>
  </alias>
  <alias
   match="won"
   enabled="y"
   expand_variables="y"
   sequence="100"
  >
  <send>wear @primaryweapon
dual @secondweapon</send>
  </alias>
  <alias
   match="wid"
   enabled="y"
   expand_variables="y"
   send_to="12"
   sequence="100"
  >
  <send>Note ("Primary weapon : ", "@primaryweapon")
        Note ("Secondary weapon :", "@secondweapon")
  </send>
  </alias>
  <alias
   match="wid off"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>EnableTriggerGroup("eqdata", false)
        Note ("Eqdata command not being hidden and will resume normal when you wear new weapons")
        Note ("This is meant to just be able show eqdata if you have the need to")
  </send>
  </alias>
</aliases>

<script>
<![CDATA[

function OnHelp ()
  world.Note (world.GetPluginInfo (world.GetPluginID (), 3))
end

function OnPluginInstall ()
  ColourNote ("blue","yellow","wid Plugin Installed! Type wid help - to show help")
end

]]>
</script> 

</muclient>
